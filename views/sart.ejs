<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <link rel="stylesheet" href="/public/css/style.css" rel="stylesheet">
    
        <!-- JavaScript Libraries -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
        <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.2.0/p5.min.js"></script> -->
        <!-- Favicon -->
        <link rel="icon" href="/public/assets/favicon.webp" type="image/x-icon">
        <!-- Page Title -->
        <title>Security Control Simulation System</title>
    </head>

<body>
    <!-- Navigation Bar -->
    <nav class="custom-navbar">
        <div class="navbar-logo">
            <a>SCSS</a>
        </div>

    </nav>
    <section class="info">
        <section class="container">
            <h1>Situation Awareness Rating Technique</h1>
            <p>Below is a list of statments for evaluating trust between people and automation. There are several scales for you to rate the intensity of your feeling of trust, or your impression of the system while operating a machine. Please click the number which best describes your feeling or your impression</p>
            <p><bold>(Note: not at all = 1: extremely = 7)</bold></p>
        </section>
        
        <form action="/scales/addScale" method="post">
            <div class="form-group">
                <label for="sart-1">Instability of Situation</label>
                <p class="form-text">How changeable is the situation? Is the situation highly unstable and likely to change suddenly (High) or is it very stable and straightforward (Low)?</p>
                <div class="likert-scale">
                    <% for (let i = 1; i <= 7; i++) {%>
                        <input type="radio" id="sart-1-<%= i%>" name="sart-1" value="<%= i %>">
                        <label for="sart-1-<%= i%>"><%= i%></label>
                    <% } %>
                </div>
            </div>
            <div class="form-group">
                <label for="sart-2">Complexity of Situation</label>
                <p class="form-text">How complicated is the situation? Is it complex with many interrelated components (High) or is it simple and straightforward (Low)?</p>
                <div class="likert-scale">
                    <% for (let i = 1; i <= 7; i++) {%>
                        <input type="radio" id="sart-2-<%= i%>" name="sart-2" value="<%= i %>">
                        <label for="sart-2-<%= i%>"><%= i%></label>
                    <% } %>
                </div>
            </div>
            <div class="form-group">
                <label for="sart-3">Variability of Situation</label>
                <p class="form-text">How many variables are changing within the situation? Are there a large number of factors varying (High) or are there very few variables changing (Low)?</p>
                <div class="likert-scale">
                    <% for (let i = 1; i <= 7; i++) {%>
                        <input type="radio" id="sart-3-<%= i%>" name="sart-3" value="<%= i %>">
                        <label for="sart-3-<%= i%>"><%= i%></label>
                    <% } %>
                </div>
            </div>
            <div class="form-group">
                <label for="sart-4">Arousal</label>
                <p class="form-text">How aroused are you in the situation? Are you alert and ready for activity (High) or do you have a low degree of alertness (Low)?</p>
                <div class="likert-scale">
                    <% for (let i = 1; i <= 7; i++) {%>
                        <input type="radio" id="sart-4-<%= i%>" name="sart-4" value="<%= i %>">
                        <label for="sart-4-<%= i%>"><%= i%></label>
                    <% } %>
                </div>
            </div>
            <div class="form-group">
                <label for="sart-5">Concentration of Attention</label>
                <p class="form-text">How much are you concentrating on the situation? Are you concentrating on many aspects of the situation (High) or focussed on only one (Low)?</p>
                <div class="likert-scale">
                    <% for (let i = 1; i <= 7; i++) {%>
                        <input type="radio" id="sart-5-<%= i%>" name="sart-5" value="<%= i %>">
                        <label for="sart-5-<%= i%>"><%= i%></label>
                    <% } %>
                </div>
            </div>
            <div class="form-group">
                <label for="sart-6">Division of Attention</label>
                <p class="form-text">How much is your attention divided in the situation? Are you concentratin on many aspects of the situation (High) or focussed on only one (Low)?</p>
                <div class="likert-scale">
                    <% for (let i = 1; i <= 7; i++) {%>
                        <input type="radio" id="sart-6-<%= i%>" name="sart-6" value="<%= i %>">
                        <label for="sart-6-<%= i%>"><%= i%></label>
                    <% } %>
                </div>
            </div>
            <div class="form-group">
                <label for="sart-7">Spare Mental Capacity</label>
                <p class="form-text">How much mental capacity do you have to spare in the situation? Do you have sufficient to attend to many variables (High) or nothing to spare at all (Low)?</p>
                <div class="likert-scale">
                    <% for (let i = 1; i <= 7; i++) {%>
                        <input type="radio" id="sart-7-<%= i%>" name="sart-7" value="<%= i %>">
                        <label for="sart-7-<%= i%>"><%= i%></label>
                    <% } %>
                </div>
            </div>
            <div class="form-group">
                <label for="sart-8">Information Quantity</label>
                <p class="form-text">How much information have you gained about the situation? Have you received and understood a great deal of knowledge (High) or very little (Low)?</p>
                <div class="likert-scale">
                    <% for (let i = 1; i <= 7; i++) {%>
                        <input type="radio" id="sart-8-<%= i%>" name="sart-8" value="<%= i %>">
                        <label for="sart-8-<%= i%>"><%= i%></label>
                    <% } %>
                </div>
            </div>
            <div class="form-group">
                <label for="sart-9">Familiarity with Situation</label>
                <p class="form-text">How familiar are you with the situation? Do you have a great deal of relevant experience (High) or is it a new situation (Low)?</p>
                <div class="likert-scale">
                    <% for (let i = 1; i <= 7; i++) {%>
                        <input type="radio" id="sart-9-<%= i%>" name="sart-9" value="<%= i %>">
                        <label for="sart-9-<%= i%>"><%= i%></label>
                    <% } %>
                </div>
            </div>
            <div class="d-flex justify-content-center">
                <button type="submit" id="submit">Submit</button>
            </div>
        </form>
    </section>
    <script>
        document.getElementById("submit").addEventListener("click", () => {
            var allItems = document.querySelectorAll('input');
            let items = [];
            for (let i = 0; i < allItems.length; i += 7){
                items.push(allItems[i].name)
            }
            for (let i = 0; i < items.length; i++){
                let itemArray = document.getElementsByName(items[i]);
                let checkedFlag = false;
                for (let j = 0; j < itemArray.length; j++) {
                    if (document.getElementById(itemArray[j].id).checked) {
                        checkedFlag = true;
                        console.log("checked flag has changed")
                    }
                }
                if (checkedFlag === false) {
                    window.alert(`Please respond to question number ${items[i].slice(-2)}`);
                    event.preventDefault();
                }
            }   
        })
    </script>

</body>
</html>